<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>La Verduleria</title>
</head>

<body>
    <div class="container">
        <header
            class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
            <a href="/" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
                <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap">
                    <use xlink:href="#bootstrap"></use>
                </svg>
            </a>

            <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
                <li><a href="#" class="nav-link px-2 link-dark">Home</a></li>
                <li><a href="#" class="nav-link px-2 link-dark">Features</a></li>
                <li><a href="#" class="nav-link px-2 link-dark">Pricing</a></li>
                <li><a href="#" class="nav-link px-2 link-dark">FAQs</a></li>
                <li><a href="#" class="nav-link px-2 link-dark">About</a></li>
            </ul>

            <div class="col-md-3 text-end">
                <button type="button" onclick="location.href = '/logout'"
                    style="background-color: brown; border-color: white;" class="btn btn-primary">Log Out</button>
            </div>
        </header>

        <div class="jumbotron">

            <h1 style="color: blue">Bienvenido!</h1>
            <br />

            <% if(productos.length> 0){ %>
                <div class="table-responsive">
                    <table class="table table-dark">
                        <tr style="color: yellow">
                            <th>Nombre</th>
                            <th>Descripcion</th>
                            <th>Precio</th>
                            <th>Imagen</th>
                        </tr>
                        <% for (const producto of productos) {%>
                            <tr>
                                <td>
                                    <%=producto.nombre%>
                                </td>
                                <td>
                                    <%=producto.descripcion%>
                                </td>
                                <td>
                                    <%=producto.precio%>
                                </td>
                                <td>
                                    <%=producto.imagen%>
                                </td>

                                <form action="/api/carritos" method="post"></form>

                                <td style="background-color: white; border: none;">
                                    <button style="background-color: green; font-size: larger;">+</button>
                                </td>
                            </tr>
                            <%};%>
                    </table>
                </div>
                <% } else{ %>
                    <h3 class="alert alert-danger">No se encontraron productos</h3>
                    <% } %>
                        <div class="jumbotron">

                            <h1 style="color: blue">Este es tu carrito de pedido.</h1>
                            <br />

                            <% if(carrito.length> 0){ %>
                                <div class="table-responsive">
                                    <table class="table table-dark">
                                        <tr style="color: rgb(168, 0, 140)">
                                            <th>Carrito</th>
                                        </tr>
                                        <tr style="color: yellow">
                                            <th>Nombre</th>
                                            <th>Descripcion</th>
                                            <th>Precio</th>
                                            <th>Imagen</th>
                                        </tr>
                                        <% for (const producto of carrito) {%>
                                            <tr>
                                                <td>
                                                    <%=producto.nombre%>
                                                </td>
                                                <td>
                                                    <%=producto.descripcion%>
                                                </td>
                                                <td>
                                                    <%=producto.precio%>
                                                </td>
                                                <td>
                                                    <%=producto.imagen%>
                                                </td>
                                                <td style="background-color: white; border: none;">
                                                    <button
                                                        style="background-color: red; font-size: larger;">--</button>
                                                </td>
                                            </tr>
                                            <%};%>
                                    </table>
                                    <form action="/enviarPedido" method="post">
                                        <div class="col-md-3 text-end">
                                            <button type="submit" style=" background-color: blue; border-color: white;"
                                                class="btn btn-primary">Hace Tu Pedido!</button>
                                        </div>
                                    </form>

                                </div>
                                <% } else{ %>
                                    <h3 class="alert-info">Agrega productos a tu carrito.</h3>
                                    <% } %>

                        </div>
</body>

</html>